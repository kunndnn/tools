"use strict";(self.webpackChunktools=self.webpackChunktools||[]).push([[407],{8407:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var t=a(5043);var i=a(579);const r=e=>{let{tempInfo:s}=e;const{temp:a,humidity:t,pressure:r,weathermood:c,name:n,speed:l,country:d,sunset:o}=s;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("article",{className:"widget",children:[(0,i.jsx)("div",{className:"weatherIcon",children:(0,i.jsx)("i",{className:"wi wi-day-sunny"})}),(0,i.jsxs)("div",{className:"weatherInfo",children:[(0,i.jsx)("div",{className:"temperature",children:(0,i.jsxs)("span",{children:[a," \xb0"]})}),(0,i.jsxs)("div",{className:"description",children:[(0,i.jsx)("div",{className:"weatherCondition",children:c}),(0,i.jsxs)("div",{className:"place",children:[n,",",d]})]})]}),(0,i.jsx)("div",{className:"date",children:(new Date).toLocaleString()}),(0,i.jsxs)("div",{className:"extra-temp",children:[(0,i.jsxs)("div",{className:"temp-info-minmax",children:[(0,i.jsxs)("div",{className:"two-sided-section",children:[(0,i.jsx)("p",{children:(0,i.jsx)("i",{className:"wi wi-sunset"})}),(0,i.jsxs)("p",{className:"extra-info-leftside",children:[(h=o,new Date(1e3*h).toLocaleString())," ",(0,i.jsx)("br",{}),"Sunset"]})]}),(0,i.jsxs)("div",{className:"two-sided-section",children:[(0,i.jsx)("p",{children:(0,i.jsx)("i",{className:"wi wi-humidity"})}),(0,i.jsxs)("p",{className:"extra-info-leftside",children:[t,(0,i.jsx)("br",{}),"humidity"]})]})]}),(0,i.jsxs)("div",{className:"two-sided-section",children:[(0,i.jsx)("p",{children:(0,i.jsx)("i",{className:"wi wi-humidity"})}),(0,i.jsxs)("p",{className:"extra-info-leftside",children:[l," ",(0,i.jsx)("br",{}),"Speed"]})]}),(0,i.jsxs)("div",{className:"two-sided-section",children:[(0,i.jsx)("p",{children:(0,i.jsx)("i",{className:"wi wi-humidity"})}),(0,i.jsxs)("p",{className:"extra-info-leftside",children:[r,(0,i.jsx)("br",{}),"pressure"]})]})]})]})});var h},{REACT_APP_WEATHER_KEY:c}={},n=()=>{const[e,s]=(0,t.useState)("chandigarh"),[a,n]=(0,t.useState)({}),[l,d]=(0,t.useState)(""),o=async()=>{try{let s=` https://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=${c}`;const a=await fetch(s),t=await a.json(),{temp:i,humidity:r,pressure:l}=t.main,{main:d}=t.weather[0],{name:o}=t,{speed:h}=t.wind,{country:m,sunset:p}=t.sys;n({temp:i,humidity:r,pressure:l,weathermood:d,name:o,speed:h,country:m,sunset:p})}catch(s){console.log({error:s}),alert("An error Occured")}};return(0,t.useEffect)((()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{const{latitude:s,longitude:a}=e.coords;(async(e,s)=>{try{const a=`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${s}&appid=${c}`,t=await fetch(a),i=await t.json();d(i.name),console.log({city:l})}catch(a){console.error("Error fetching city name:",a)}})(s,a)}),(e=>{console.error("Error fetching location:",e)})),o()}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"wrap",children:(0,i.jsxs)("div",{className:"search",children:[(0,i.jsx)("input",{type:"search",placeholder:"search ....",autoFocus:!0,id:"search",value:e,onChange:e=>s(e.target.value),className:"searchTerm"}),(0,i.jsx)("button",{className:"searchButton",type:"button",onClick:()=>o(),children:"Search"})]})}),(0,i.jsx)(r,{tempInfo:a})]})})}}}]);
//# sourceMappingURL=407.1bec75b2.chunk.js.map